{"version":3,"sources":["src/renderer/TrackballControls.js","src/renderer/CSS3DRender.js","src/render.js","src/index.js"],"names":["THREE","TrackballControls","object","domElement","_this","STATE","undefined","document","enabled","screen","left","top","width","height","rotateSpeed","zoomSpeed","panSpeed","noRotate","noZoom","noPan","staticMoving","dynamicDampingFactor","minDistance","maxDistance","Infinity","keys","target","Vector3","EPS","lastPosition","_state","NONE","_prevState","_eye","_movePrev","Vector2","_moveCurr","_lastAxis","_lastAngle","_zoomStart","_zoomEnd","_touchZoomDistanceStart","_touchZoomDistanceEnd","_panStart","_panEnd","target0","clone","position0","position","up0","up","changeEvent","type","startEvent","endEvent","handleResize","window","innerWidth","innerHeight","box","getBoundingClientRect","d","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","getMouseOnScreen","vector","angle","axis","quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","mouseChange","objectUp","pan","pageX","pageY","set","getMouseOnCircle","keydown","event","removeEventListener","keyCode","ROTATE","ZOOM","PAN","keyup","addEventListener","mousedown","preventDefault","stopPropagation","button","copy","mousemove","mouseup","dispatchEvent","mousewheel","deltaMode","y","deltaY","touchstart","touches","length","TOUCH_ROTATE","TOUCH_ZOOM_PAN","dx","dy","Math","sqrt","x","touchmove","touchend","contextmenu","rotateCamera","Quaternion","sub","normalize","crossVectors","setLength","add","setFromAxisAngle","applyQuaternion","zoomCamera","factor","multiplyScalar","panCamera","lengthSq","cross","subVectors","checkDistances","addVectors","update","lookAt","distanceToSquared","reset","dispose","prototype","Object","create","EventDispatcher","constructor","CSS3DObject","element","style","parentNode","removeChild","Object3D","CSS3DSprite","call","CSS3DRenderer","_width","_height","_widthHalf","_heightHalf","log","REVISION","matrix","Matrix4","cache","fov","WeakMap","createElement","overflow","cameraElement","WebkitTransformStyle","transformStyle","appendChild","isIE","test","navigator","userAgent","epsilon","value","abs","getCameraCSSMatrix","elements","getObjectCSSMatrix","cameraCSSMatrix","matrix3d","getSize","setSize","getDistanceToSquared","a","b","object1","object2","setFromMatrixPosition","matrixWorld","zOrder","scene","sorted","filterAndFlatten","result","traverse","push","sort","distanceA","objects","get","distanceToCameraSquared","zMax","i","l","zIndex","render","camera","projectionMatrix","isPerspectiveCamera","WebkitPerspective","perspective","updateMatrixWorld","parent","isOrthographicCamera","matrixWorldInverse","WebkitTransform","transform","renderObject","transpose","copyPosition","scale","cachedStyle","objectData","children","init","animate","renderer","geometry","material","mesh","controls","table","targets","sphere","helix","grid","PerspectiveCamera","z","Scene","item","className","backgroundColor","random","number","textContent","symbol","details","innerHTML","phi","acos","theta","PI","cos","sin","floor","getElementById","onWindowResize","duration","removeAll","TWEEN","Tween","to","easing","Easing","Exponential","InOut","start","rotation","onUpdate","aspect","updateProjectionMatrix"],"mappings":"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","file":"src.97ad547b.map","sourceRoot":"..","sourcesContent":["/**\n * @author Eberhard Graether / http://egraether.com/\n * @author Mark Lundin \t/ http://mark-lundin.com\n * @author Simone Manini / http://daron1337.github.io\n * @author Luca Antiga \t/ http://lantiga.github.io\n */\n\nTHREE.TrackballControls = function(object, domElement) {\n  var _this = this;\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4\n  };\n\n  this.object = object;\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // API\n\n  this.enabled = true;\n\n  this.screen = { left: 0, top: 0, width: 0, height: 0 };\n\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  this.keys = [65 /*A*/, 83 /*S*/, 68 /*D*/];\n\n  // internals\n\n  this.target = new THREE.Vector3();\n\n  var EPS = 0.000001;\n\n  var lastPosition = new THREE.Vector3();\n\n  var _state = STATE.NONE,\n    _prevState = STATE.NONE,\n    _eye = new THREE.Vector3(),\n    _movePrev = new THREE.Vector2(),\n    _moveCurr = new THREE.Vector2(),\n    _lastAxis = new THREE.Vector3(),\n    _lastAngle = 0,\n    _zoomStart = new THREE.Vector2(),\n    _zoomEnd = new THREE.Vector2(),\n    _touchZoomDistanceStart = 0,\n    _touchZoomDistanceEnd = 0,\n    _panStart = new THREE.Vector2(),\n    _panEnd = new THREE.Vector2();\n\n  // for reset\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone();\n\n  // events\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  // methods\n\n  this.handleResize = function() {\n    if (this.domElement === document) {\n      this.screen.left = 0;\n      this.screen.top = 0;\n      this.screen.width = window.innerWidth;\n      this.screen.height = window.innerHeight;\n    } else {\n      var box = this.domElement.getBoundingClientRect();\n      // adjustments come from similar code in the jquery offset() function\n      var d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    }\n  };\n\n  var getMouseOnScreen = (function() {\n    var vector = new THREE.Vector2();\n\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set(\n        (pageX - _this.screen.left) / _this.screen.width,\n        (pageY - _this.screen.top) / _this.screen.height\n      );\n\n      return vector;\n    };\n  })();\n\n  var getMouseOnCircle = (function() {\n    var vector = new THREE.Vector2();\n\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set(\n        (pageX - _this.screen.width * 0.5 - _this.screen.left) /\n          (_this.screen.width * 0.5),\n        (_this.screen.height + 2 * (_this.screen.top - pageY)) /\n          _this.screen.width // screen.width intentional\n      );\n\n      return vector;\n    };\n  })();\n\n  this.rotateCamera = (function() {\n    var axis = new THREE.Vector3(),\n      quaternion = new THREE.Quaternion(),\n      eyeDirection = new THREE.Vector3(),\n      objectUpDirection = new THREE.Vector3(),\n      objectSidewaysDirection = new THREE.Vector3(),\n      moveDirection = new THREE.Vector3(),\n      angle;\n\n    return function rotateCamera() {\n      moveDirection.set(\n        _moveCurr.x - _movePrev.x,\n        _moveCurr.y - _movePrev.y,\n        0\n      );\n      angle = moveDirection.length();\n\n      if (angle) {\n        _eye.copy(_this.object.position).sub(_this.target);\n\n        eyeDirection.copy(_eye).normalize();\n        objectUpDirection.copy(_this.object.up).normalize();\n        objectSidewaysDirection\n          .crossVectors(objectUpDirection, eyeDirection)\n          .normalize();\n\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n\n        axis.crossVectors(moveDirection, _eye).normalize();\n\n        angle *= _this.rotateSpeed;\n        quaternion.setFromAxisAngle(axis, angle);\n\n        _eye.applyQuaternion(quaternion);\n        _this.object.up.applyQuaternion(quaternion);\n\n        _lastAxis.copy(axis);\n        _lastAngle = angle;\n      } else if (!_this.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor);\n        _eye.copy(_this.object.position).sub(_this.target);\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n        _eye.applyQuaternion(quaternion);\n        _this.object.up.applyQuaternion(quaternion);\n      }\n\n      _movePrev.copy(_moveCurr);\n    };\n  })();\n\n  this.zoomCamera = function() {\n    var factor;\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n      _eye.multiplyScalar(factor);\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * _this.zoomSpeed;\n\n      if (factor !== 1.0 && factor > 0.0) {\n        _eye.multiplyScalar(factor);\n      }\n\n      if (_this.staticMoving) {\n        _zoomStart.copy(_zoomEnd);\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n      }\n    }\n  };\n\n  this.panCamera = (function() {\n    var mouseChange = new THREE.Vector2(),\n      objectUp = new THREE.Vector3(),\n      pan = new THREE.Vector3();\n\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart);\n\n      if (mouseChange.lengthSq()) {\n        mouseChange.multiplyScalar(_eye.length() * _this.panSpeed);\n\n        pan\n          .copy(_eye)\n          .cross(_this.object.up)\n          .setLength(mouseChange.x);\n        pan.add(objectUp.copy(_this.object.up).setLength(mouseChange.y));\n\n        _this.object.position.add(pan);\n        _this.target.add(pan);\n\n        if (_this.staticMoving) {\n          _panStart.copy(_panEnd);\n        } else {\n          _panStart.add(\n            mouseChange\n              .subVectors(_panEnd, _panStart)\n              .multiplyScalar(_this.dynamicDampingFactor)\n          );\n        }\n      }\n    };\n  })();\n\n  this.checkDistances = function() {\n    if (!_this.noZoom || !_this.noPan) {\n      if (_eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n        _this.object.position.addVectors(\n          _this.target,\n          _eye.setLength(_this.maxDistance)\n        );\n        _zoomStart.copy(_zoomEnd);\n      }\n\n      if (_eye.lengthSq() < _this.minDistance * _this.minDistance) {\n        _this.object.position.addVectors(\n          _this.target,\n          _eye.setLength(_this.minDistance)\n        );\n        _zoomStart.copy(_zoomEnd);\n      }\n    }\n  };\n\n  this.update = function() {\n    _eye.subVectors(_this.object.position, _this.target);\n\n    if (!_this.noRotate) {\n      _this.rotateCamera();\n    }\n\n    if (!_this.noZoom) {\n      _this.zoomCamera();\n    }\n\n    if (!_this.noPan) {\n      _this.panCamera();\n    }\n\n    _this.object.position.addVectors(_this.target, _eye);\n\n    _this.checkDistances();\n\n    _this.object.lookAt(_this.target);\n\n    if (lastPosition.distanceToSquared(_this.object.position) > EPS) {\n      _this.dispatchEvent(changeEvent);\n\n      lastPosition.copy(_this.object.position);\n    }\n  };\n\n  this.reset = function() {\n    _state = STATE.NONE;\n    _prevState = STATE.NONE;\n\n    _this.target.copy(_this.target0);\n    _this.object.position.copy(_this.position0);\n    _this.object.up.copy(_this.up0);\n\n    _eye.subVectors(_this.object.position, _this.target);\n\n    _this.object.lookAt(_this.target);\n\n    _this.dispatchEvent(changeEvent);\n\n    lastPosition.copy(_this.object.position);\n  };\n\n  // listeners\n\n  function keydown(event) {\n    if (_this.enabled === false) return;\n\n    window.removeEventListener('keydown', keydown);\n\n    _prevState = _state;\n\n    if (_state !== STATE.NONE) {\n      return;\n    } else if (event.keyCode === _this.keys[STATE.ROTATE] && !_this.noRotate) {\n      _state = STATE.ROTATE;\n    } else if (event.keyCode === _this.keys[STATE.ZOOM] && !_this.noZoom) {\n      _state = STATE.ZOOM;\n    } else if (event.keyCode === _this.keys[STATE.PAN] && !_this.noPan) {\n      _state = STATE.PAN;\n    }\n  }\n\n  function keyup(event) {\n    if (_this.enabled === false) return;\n\n    _state = _prevState;\n\n    window.addEventListener('keydown', keydown, false);\n  }\n\n  function mousedown(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.NONE) {\n      _state = event.button;\n    }\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n      _movePrev.copy(_moveCurr);\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n      _zoomEnd.copy(_zoomStart);\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n      _panEnd.copy(_panStart);\n    }\n\n    document.addEventListener('mousemove', mousemove, false);\n    document.addEventListener('mouseup', mouseup, false);\n\n    _this.dispatchEvent(startEvent);\n  }\n\n  function mousemove(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.ROTATE && !_this.noRotate) {\n      _movePrev.copy(_moveCurr);\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n    } else if (_state === STATE.ZOOM && !_this.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    } else if (_state === STATE.PAN && !_this.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    }\n  }\n\n  function mouseup(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    _state = STATE.NONE;\n\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n    _this.dispatchEvent(endEvent);\n  }\n\n  function mousewheel(event) {\n    if (_this.enabled === false) return;\n\n    if (_this.noZoom === true) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025;\n        break;\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01;\n        break;\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025;\n        break;\n    }\n\n    _this.dispatchEvent(startEvent);\n    _this.dispatchEvent(endEvent);\n  }\n\n  function touchstart(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy(\n          getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY)\n        );\n        _movePrev.copy(_moveCurr);\n        break;\n\n      default:\n        // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(\n          dx * dx + dy * dy\n        );\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n        _panStart.copy(getMouseOnScreen(x, y));\n        _panEnd.copy(_panStart);\n        break;\n    }\n\n    _this.dispatchEvent(startEvent);\n  }\n\n  function touchmove(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr);\n        _moveCurr.copy(\n          getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY)\n        );\n        break;\n\n      default:\n        // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n        _panEnd.copy(getMouseOnScreen(x, y));\n        break;\n    }\n  }\n\n  function touchend(event) {\n    if (_this.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE;\n        break;\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n        _moveCurr.copy(\n          getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY)\n        );\n        _movePrev.copy(_moveCurr);\n        break;\n    }\n\n    _this.dispatchEvent(endEvent);\n  }\n\n  function contextmenu(event) {\n    if (_this.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  this.dispose = function() {\n    this.domElement.removeEventListener('contextmenu', contextmenu, false);\n    this.domElement.removeEventListener('mousedown', mousedown, false);\n    this.domElement.removeEventListener('wheel', mousewheel, false);\n\n    this.domElement.removeEventListener('touchstart', touchstart, false);\n    this.domElement.removeEventListener('touchend', touchend, false);\n    this.domElement.removeEventListener('touchmove', touchmove, false);\n\n    document.removeEventListener('mousemove', mousemove, false);\n    document.removeEventListener('mouseup', mouseup, false);\n\n    window.removeEventListener('keydown', keydown, false);\n    window.removeEventListener('keyup', keyup, false);\n  };\n\n  this.domElement.addEventListener('contextmenu', contextmenu, false);\n  this.domElement.addEventListener('mousedown', mousedown, false);\n  this.domElement.addEventListener('wheel', mousewheel, false);\n\n  this.domElement.addEventListener('touchstart', touchstart, false);\n  this.domElement.addEventListener('touchend', touchend, false);\n  this.domElement.addEventListener('touchmove', touchmove, false);\n\n  window.addEventListener('keydown', keydown, false);\n  window.addEventListener('keyup', keyup, false);\n\n  this.handleResize();\n\n  // force an update at start\n  this.update();\n};\n\nTHREE.TrackballControls.prototype = Object.create(\n  THREE.EventDispatcher.prototype\n);\nTHREE.TrackballControls.prototype.constructor = THREE.TrackballControls;\n","class CSS3DObject extends THREE.Object3D {\n  constructor(element) {\n    super(element);\n    this.element = element;\n    this.element.style.position = 'absolute';\n\n    this.addEventListener('removed', function() {\n      if (this.element.parentNode !== null) {\n        this.element.parentNode.removeChild(this.element);\n      }\n    });\n  }\n}\n\nTHREE.CSS3DObject = CSS3DObject;\n\nTHREE.CSS3DSprite = function(element) {\n  THREE.CSS3DObject.call(this, element);\n};\n\nTHREE.CSS3DSprite.prototype = Object.create(THREE.CSS3DObject.prototype);\nTHREE.CSS3DSprite.prototype.constructor = THREE.CSS3DSprite;\n\n//\n\nTHREE.CSS3DRenderer = function() {\n  console.log('THREE.CSS3DRenderer', THREE.REVISION);\n\n  var _width, _height;\n  var _widthHalf, _heightHalf;\n\n  var matrix = new THREE.Matrix4();\n\n  var cache = {\n    camera: { fov: 0, style: '' },\n    objects: new WeakMap()\n  };\n\n  var domElement = document.createElement('div');\n  domElement.style.overflow = 'hidden';\n\n  this.domElement = domElement;\n\n  var cameraElement = document.createElement('div');\n\n  cameraElement.style.WebkitTransformStyle = 'preserve-3d';\n  cameraElement.style.transformStyle = 'preserve-3d';\n\n  domElement.appendChild(cameraElement);\n\n  var isIE = /Trident/i.test(navigator.userAgent);\n\n  this.getSize = function() {\n    return {\n      width: _width,\n      height: _height\n    };\n  };\n\n  this.setSize = function(width, height) {\n    _width = width;\n    _height = height;\n    _widthHalf = _width / 2;\n    _heightHalf = _height / 2;\n\n    domElement.style.width = width + 'px';\n    domElement.style.height = height + 'px';\n\n    cameraElement.style.width = width + 'px';\n    cameraElement.style.height = height + 'px';\n  };\n\n  function epsilon(value) {\n    return Math.abs(value) < 1e-10 ? 0 : value;\n  }\n\n  function getCameraCSSMatrix(matrix) {\n    var elements = matrix.elements;\n\n    return (\n      'matrix3d(' +\n      epsilon(elements[0]) +\n      ',' +\n      epsilon(-elements[1]) +\n      ',' +\n      epsilon(elements[2]) +\n      ',' +\n      epsilon(elements[3]) +\n      ',' +\n      epsilon(elements[4]) +\n      ',' +\n      epsilon(-elements[5]) +\n      ',' +\n      epsilon(elements[6]) +\n      ',' +\n      epsilon(elements[7]) +\n      ',' +\n      epsilon(elements[8]) +\n      ',' +\n      epsilon(-elements[9]) +\n      ',' +\n      epsilon(elements[10]) +\n      ',' +\n      epsilon(elements[11]) +\n      ',' +\n      epsilon(elements[12]) +\n      ',' +\n      epsilon(-elements[13]) +\n      ',' +\n      epsilon(elements[14]) +\n      ',' +\n      epsilon(elements[15]) +\n      ')'\n    );\n  }\n\n  function getObjectCSSMatrix(matrix, cameraCSSMatrix) {\n    var elements = matrix.elements;\n    var matrix3d =\n      'matrix3d(' +\n      epsilon(elements[0]) +\n      ',' +\n      epsilon(elements[1]) +\n      ',' +\n      epsilon(elements[2]) +\n      ',' +\n      epsilon(elements[3]) +\n      ',' +\n      epsilon(-elements[4]) +\n      ',' +\n      epsilon(-elements[5]) +\n      ',' +\n      epsilon(-elements[6]) +\n      ',' +\n      epsilon(-elements[7]) +\n      ',' +\n      epsilon(elements[8]) +\n      ',' +\n      epsilon(elements[9]) +\n      ',' +\n      epsilon(elements[10]) +\n      ',' +\n      epsilon(elements[11]) +\n      ',' +\n      epsilon(elements[12]) +\n      ',' +\n      epsilon(elements[13]) +\n      ',' +\n      epsilon(elements[14]) +\n      ',' +\n      epsilon(elements[15]) +\n      ')';\n\n    if (isIE) {\n      return (\n        'translate(-50%,-50%)' +\n        'translate(' +\n        _widthHalf +\n        'px,' +\n        _heightHalf +\n        'px)' +\n        cameraCSSMatrix +\n        matrix3d\n      );\n    }\n\n    return 'translate(-50%,-50%)' + matrix3d;\n  }\n\n  function renderObject(object, camera, cameraCSSMatrix) {\n    if (typeof object === 'object' && object instanceof THREE.CSS3DObject) {\n      var style;\n\n      if (typeof object === 'object' && object instanceof THREE.CSS3DSprite) {\n        // http://swiftcoder.wordpress.com/2008/11/25/constructing-a-billboard-matrix/\n\n        matrix.copy(camera.matrixWorldInverse);\n        matrix.transpose();\n        matrix.copyPosition(object.matrixWorld);\n        matrix.scale(object.scale);\n\n        matrix.elements[3] = 0;\n        matrix.elements[7] = 0;\n        matrix.elements[11] = 0;\n        matrix.elements[15] = 1;\n\n        style = getObjectCSSMatrix(matrix, cameraCSSMatrix);\n      } else {\n        style = getObjectCSSMatrix(object.matrixWorld, cameraCSSMatrix);\n      }\n\n      var element = object.element;\n      var cachedStyle = cache.objects.get(object);\n\n      if (cachedStyle === undefined || cachedStyle !== style) {\n        element.style.WebkitTransform = style;\n        element.style.transform = style;\n\n        var objectData = { style: style };\n\n        if (isIE) {\n          objectData.distanceToCameraSquared = getDistanceToSquared(\n            camera,\n            object\n          );\n        }\n\n        cache.objects.set(object, objectData);\n      }\n\n      if (element.parentNode !== cameraElement) {\n        cameraElement.appendChild(element);\n      }\n    }\n\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      renderObject(object.children[i], camera, cameraCSSMatrix);\n    }\n  }\n\n  var getDistanceToSquared = (function() {\n    var a = new THREE.Vector3();\n    var b = new THREE.Vector3();\n\n    return function(object1, object2) {\n      a.setFromMatrixPosition(object1.matrixWorld);\n      b.setFromMatrixPosition(object2.matrixWorld);\n\n      return a.distanceToSquared(b);\n    };\n  })();\n\n  function filterAndFlatten(scene) {\n    var result = [];\n\n    scene.traverse(function(object) {\n      if (typeof object === 'object' && object instanceof THREE.CSS3DObject)\n        result.push(object);\n    });\n\n    return result;\n  }\n\n  function zOrder(scene) {\n    var sorted = filterAndFlatten(scene).sort(function(a, b) {\n      var distanceA = cache.objects.get(a).distanceToCameraSquared;\n      var distanceB = cache.objects.get(b).distanceToCameraSquared;\n\n      return distanceA - distanceB;\n    });\n\n    var zMax = sorted.length;\n\n    for (var i = 0, l = sorted.length; i < l; i++) {\n      sorted[i].element.style.zIndex = zMax - i;\n    }\n  }\n\n  this.render = function(scene, camera) {\n    var fov = camera.projectionMatrix.elements[5] * _heightHalf;\n\n    if (cache.camera.fov !== fov) {\n      if (camera.isPerspectiveCamera) {\n        domElement.style.WebkitPerspective = fov + 'px';\n        domElement.style.perspective = fov + 'px';\n      }\n\n      cache.camera.fov = fov;\n    }\n\n    scene.updateMatrixWorld();\n\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    var cameraCSSMatrix = camera.isOrthographicCamera\n      ? 'scale(' + fov + ')' + getCameraCSSMatrix(camera.matrixWorldInverse)\n      : 'translateZ(' +\n        fov +\n        'px)' +\n        getCameraCSSMatrix(camera.matrixWorldInverse);\n\n    var style =\n      cameraCSSMatrix + 'translate(' + _widthHalf + 'px,' + _heightHalf + 'px)';\n\n    if (cache.camera.style !== style && !isIE) {\n      cameraElement.style.WebkitTransform = style;\n      cameraElement.style.transform = style;\n\n      cache.camera.style = style;\n    }\n\n    renderObject(scene, camera, cameraCSSMatrix);\n\n    if (isIE) {\n      // IE10 and 11 does not support 'preserve-3d'.\n      // Thus, z-order in 3D will not work.\n      // We have to calc z-order manually and set CSS z-index for IE.\n      // FYI: z-index can't handle object intersection\n      zOrder(scene);\n    }\n  };\n};\n","import './index.css';\nimport './renderer/TrackballControls';\nimport './renderer/CSS3DRender';\n\nvar table = [\n  ['Redis', '关系型数据库', '基础架构', 1, 1],\n  ['He', 'Helium', '4.002602', 18, 1],\n  ['Li', 'Lithium', '6.941', 1, 2],\n  ['Be', 'Beryllium', '9.012182', 2, 2]\n  // [\"B\", \"Boron\", \"10.811\", 13, 2],\n  // [\"C\", \"Carbon\", \"12.0107\", 14, 2],\n  // [\"N\", \"Nitrogen\", \"14.0067\", 15, 2],\n  // [\"O\", \"Oxygen\", \"15.9994\", 16, 2],\n  // [\"F\", \"Fluorine\", \"18.9984032\", 17, 2],\n  // [\"Ne\", \"Neon\", \"20.1797\", 18, 2],\n  // [\"Na\", \"Sodium\", \"22.98976...\", 1, 3],\n  // [\"Mg\", \"Magnesium\", \"24.305\", 2, 3],\n  // [\"Al\", \"Aluminium\", \"26.9815386\", 13, 3],\n  // [\"Si\", \"Silicon\", \"28.0855\", 14, 3],\n  // [\"P\", \"Phosphorus\", \"30.973762\", 15, 3],\n  // [\"S\", \"Sulfur\", \"32.065\", 16, 3],\n  // [\"Cl\", \"Chlorine\", \"35.453\", 17, 3],\n  // [\"Ar\", \"Argon\", \"39.948\", 18, 3],\n  // [\"K\", \"Potassium\", \"39.948\", 1, 4],\n  // [\"Ca\", \"Calcium\", \"40.078\", 2, 4],\n  // [\"Sc\", \"Scandium\", \"44.955912\", 3, 4],\n  // [\"Ti\", \"Titanium\", \"47.867\", 4, 4],\n  // [\"V\", \"Vanadium\", \"50.9415\", 5, 4],\n  // [\"Cr\", \"Chromium\", \"51.9961\", 6, 4],\n  // [\"Mn\", \"Manganese\", \"54.938045\", 7, 4],\n  // [\"Fe\", \"Iron\", \"55.845\", 8, 4],\n  // [\"Co\", \"Cobalt\", \"58.933195\", 9, 4],\n  // [\"Ni\", \"Nickel\", \"58.6934\", 10, 4],\n  // [\"Cu\", \"Copper\", \"63.546\", 11, 4],\n  // [\"Zn\", \"Zinc\", \"65.38\", 12, 4],\n  // [\"Ga\", \"Gallium\", \"69.723\", 13, 4],\n  // [\"Ge\", \"Germanium\", \"72.63\", 14, 4],\n  // [\"As\", \"Arsenic\", \"74.9216\", 15, 4],\n  // [\"Se\", \"Selenium\", \"78.96\", 16, 4],\n  // [\"Br\", \"Bromine\", \"79.904\", 17, 4],\n  // [\"Kr\", \"Krypton\", \"83.798\", 18, 4],\n  // [\"Rb\", \"Rubidium\", \"85.4678\", 1, 5],\n  // [\"Sr\", \"Strontium\", \"87.62\", 2, 5],\n  // [\"Y\", \"Yttrium\", \"88.90585\", 3, 5],\n  // [\"Zr\", \"Zirconium\", \"91.224\", 4, 5],\n  // [\"Nb\", \"Niobium\", \"92.90628\", 5, 5],\n  // [\"Mo\", \"Molybdenum\", \"95.96\", 6, 5],\n  // [\"Tc\", \"Technetium\", \"(98)\", 7, 5],\n  // [\"Ru\", \"Ruthenium\", \"101.07\", 8, 5],\n  // [\"Rh\", \"Rhodium\", \"102.9055\", 9, 5],\n  // [\"Pd\", \"Palladium\", \"106.42\", 10, 5],\n  // [\"Ag\", \"Silver\", \"107.8682\", 11, 5],\n  // [\"Cd\", \"Cadmium\", \"112.411\", 12, 5],\n  // [\"In\", \"Indium\", \"114.818\", 13, 5],\n  // [\"Sn\", \"Tin\", \"118.71\", 14, 5],\n  // [\"Sb\", \"Antimony\", \"121.76\", 15, 5],\n  // [\"Te\", \"Tellurium\", \"127.6\", 16, 5],\n  // [\"I\", \"Iodine\", \"126.90447\", 17, 5],\n  // [\"Xe\", \"Xenon\", \"131.293\", 18, 5],\n  // [\"Cs\", \"Caesium\", \"132.9054\", 1, 6],\n  // [\"Ba\", \"Barium\", \"132.9054\", 2, 6],\n  // [\"La\", \"Lanthanum\", \"138.90547\", 4, 9],\n  // [\"Ce\", \"Cerium\", \"140.116\", 5, 9],\n  // [\"Pr\", \"Praseodymium\", \"140.90765\", 6, 9],\n  // [\"Nd\", \"Neodymium\", \"144.242\", 7, 9],\n  // [\"Pm\", \"Promethium\", \"(145)\", 8, 9],\n  // [\"Sm\", \"Samarium\", \"150.36\", 9, 9],\n  // [\"Eu\", \"Europium\", \"151.964\", 10, 9],\n  // [\"Gd\", \"Gadolinium\", \"157.25\", 11, 9],\n  // [\"Tb\", \"Terbium\", \"158.92535\", 12, 9],\n  // [\"Dy\", \"Dysprosium\", \"162.5\", 13, 9],\n  // [\"Ho\", \"Holmium\", \"164.93032\", 14, 9],\n  // [\"Er\", \"Erbium\", \"167.259\", 15, 9],\n  // [\"Tm\", \"Thulium\", \"168.93421\", 16, 9],\n  // [\"Yb\", \"Ytterbium\", \"173.054\", 17, 9],\n  // [\"Lu\", \"Lutetium\", \"174.9668\", 18, 9],\n  // [\"Hf\", \"Hafnium\", \"178.49\", 4, 6],\n  // [\"Ta\", \"Tantalum\", \"180.94788\", 5, 6],\n  // [\"W\", \"Tungsten\", \"183.84\", 6, 6],\n  // [\"Re\", \"Rhenium\", \"186.207\", 7, 6],\n  // [\"Os\", \"Osmium\", \"190.23\", 8, 6],\n  // [\"Ir\", \"Iridium\", \"192.217\", 9, 6],\n  // [\"Pt\", \"Platinum\", \"195.084\", 10, 6],\n  // [\"Au\", \"Gold\", \"196.966569\", 11, 6],\n  // [\"Hg\", \"Mercury\", \"200.59\", 12, 6],\n  // [\"Tl\", \"Thallium\", \"204.3833\", 13, 6],\n  // [\"Pb\", \"Lead\", \"207.2\", 14, 6],\n  // [\"Bi\", \"Bismuth\", \"208.9804\", 15, 6],\n  // [\"Po\", \"Polonium\", \"(209)\", 16, 6],\n  // [\"At\", \"Astatine\", \"(210)\", 17, 6],\n  // [\"Rn\", \"Radon\", \"(222)\", 18, 6],\n  // [\"Fr\", \"Francium\", \"(223)\", 1, 7],\n  // [\"Ra\", \"Radium\", \"(226)\", 2, 7],\n  // [\"Ac\", \"Actinium\", \"(227)\", 4, 10],\n  // [\"Th\", \"Thorium\", \"232.03806\", 5, 10],\n  // [\"Pa\", \"Protactinium\", \"231.0588\", 6, 10],\n  // [\"U\", \"Uranium\", \"238.02891\", 7, 10],\n  // [\"Np\", \"Neptunium\", \"(237)\", 8, 10],\n  // [\"Pu\", \"Plutonium\", \"(244)\", 9, 10],\n  // [\"Am\", \"Americium\", \"(243)\", 10, 10],\n  // [\"Cm\", \"Curium\", \"(247)\", 11, 10],\n  // [\"Bk\", \"Berkelium\", \"(247)\", 12, 10],\n  // [\"Cf\", \"Californium\", \"(251)\", 13, 10],\n  // [\"Es\", \"Einstenium\", \"(252)\", 14, 10],\n  // [\"Fm\", \"Fermium\", \"(257)\", 15, 10],\n  // [\"Md\", \"Mendelevium\", \"(258)\", 16, 10],\n  // [\"No\", \"Nobelium\", \"(259)\", 17, 10],\n  // [\"Lr\", \"Lawrencium\", \"(262)\", 18, 10],\n  // [\"Rf\", \"Rutherfordium\", \"(267)\", 4, 7],\n  // [\"Db\", \"Dubnium\", \"(268)\", 5, 7],\n  // [\"Sg\", \"Seaborgium\", \"(271)\", 6, 7],\n  // [\"Bh\", \"Bohrium\", \"(272)\", 7, 7],\n  // [\"Hs\", \"Hassium\", \"(270)\", 8, 7],\n  // [\"Mt\", \"Meitnerium\", \"(276)\", 9, 7],\n  // [\"Ds\", \"Darmstadium\", \"(281)\", 10, 7],\n  // [\"Rg\", \"Roentgenium\", \"(280)\", 11, 7],\n  // [\"Cn\", \"Copernicium\", \"(285)\", 12, 7],\n  // [\"Uut\", \"Unutrium\", \"(284)\", 13, 7],\n  // [\"Fl\", \"Flerovium\", \"(289)\", 14, 7],\n  // [\"Uup\", \"Ununpentium\", \"(288)\", 15, 7],\n  // [\"Lv\", \"Livermorium\", \"(293)\", 16, 7],\n  // [\"Uus\", \"Ununseptium\", \"(294)\", 17, 7],\n  // [\"Uuo\", \"Ununoctium\", \"(294)\", 18, 7]\n];\n\nvar camera, scene, renderer;\nvar geometry, material, mesh;\n\nvar controls;\n\nvar objects = [];\nvar targets = { table: [], sphere: [], helix: [], grid: [] };\n\nexport function init() {\n  camera = new THREE.PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    1,\n    5000\n  );\n  camera.position.z = 1800;\n\n  scene = new THREE.Scene();\n\n  for (var i = 0; i < table.length; i++) {\n    var item = table[i];\n\n    var element = document.createElement('div');\n    element.className = 'element';\n\n    element.style.backgroundColor =\n      'rgba(0,127,127,' + (Math.random() * 0.5 + 0.25) + ')';\n\n    var number = document.createElement('div');\n    number.className = 'number';\n    number.textContent = i + 1;\n    element.appendChild(number);\n\n    var symbol = document.createElement('div');\n    symbol.className = 'symbol';\n    symbol.textContent = item[0];\n    element.appendChild(symbol);\n\n    var details = document.createElement('div');\n    details.className = 'details';\n    details.innerHTML = item[1] + '<br>' + item[2];\n    element.appendChild(details);\n\n    var object = new THREE.CSS3DObject(element);\n    object.position.x = Math.random() * 4000 - 2000;\n    object.position.y = Math.random() * 4000 - 2000;\n    object.position.z = Math.random() * 4000 - 2000;\n    scene.add(object);\n\n    objects.push(object);\n\n    element.addEventListener('click', () => {\n      camera.lookAt(object);\n    });\n  }\n\n  // table\n\n  for (var i = 0; i < objects.length; i++) {\n    var item = table[i];\n    var object = objects[i];\n\n    var object = new THREE.Object3D();\n    object.position.x = item[3] * 160 - 1540;\n    object.position.y = -(item[4] * 200) + 1100;\n\n    targets.table.push(object);\n  }\n\n  // sphere\n\n  var vector = new THREE.Vector3();\n\n  for (var i = 0, l = objects.length; i < l; i++) {\n    var object = objects[i];\n\n    var phi = Math.acos(-1 + (2 * i) / l);\n    var theta = Math.sqrt(l * Math.PI) * phi;\n\n    var object = new THREE.Object3D();\n\n    object.position.x = 1000 * Math.cos(theta) * Math.sin(phi);\n    object.position.y = 1000 * Math.sin(theta) * Math.sin(phi);\n    object.position.z = 1000 * Math.cos(phi);\n\n    vector.copy(object.position).multiplyScalar(2);\n\n    object.lookAt(vector);\n\n    targets.sphere.push(object);\n  }\n\n  // helix\n\n  var vector = new THREE.Vector3();\n\n  for (var i = 0, l = objects.length; i < l; i++) {\n    var object = objects[i];\n\n    var phi = i * 0.175 + Math.PI;\n\n    var object = new THREE.Object3D();\n\n    object.position.x = 1100 * Math.sin(phi);\n    object.position.y = -(i * 8) + 450;\n    object.position.z = 1100 * Math.cos(phi);\n\n    vector.copy(object.position);\n    vector.x *= 2;\n    vector.z *= 2;\n\n    object.lookAt(vector);\n\n    targets.helix.push(object);\n  }\n\n  // grid\n\n  for (var i = 0; i < objects.length; i++) {\n    var object = objects[i];\n\n    var object = new THREE.Object3D();\n\n    object.position.x = (i % 5) * 800 - 800;\n    object.position.y = -(Math.floor(i / 5) % 5) * 400 + 800;\n    object.position.z = Math.floor(i / 25) * 1000 - 2000;\n\n    targets.grid.push(object);\n  }\n\n  //\n\n  renderer = new THREE.CSS3DRenderer();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  renderer.domElement.style.position = 'absolute';\n  renderer.domElement.style.top = 0;\n  document.getElementById('container').appendChild(renderer.domElement);\n\n  //\n\n  controls = new THREE.TrackballControls(camera, renderer.domElement);\n  controls.rotateSpeed = 0.5;\n  controls.addEventListener('change', render);\n\n  var button = document.getElementById('table');\n  button.addEventListener(\n    'click',\n    function(event) {\n      transform(targets.table, 2000);\n    },\n    false\n  );\n\n  var button = document.getElementById('sphere');\n  button.addEventListener(\n    'click',\n    function(event) {\n      transform(targets.sphere, 2000);\n    },\n    false\n  );\n\n  var button = document.getElementById('helix');\n  button.addEventListener(\n    'click',\n    function(event) {\n      transform(targets.helix, 2000);\n    },\n    false\n  );\n\n  var button = document.getElementById('grid');\n  button.addEventListener(\n    'click',\n    function(event) {\n      transform(targets.grid, 2000);\n    },\n    false\n  );\n\n  transform(targets.table, 5000);\n\n  //\n\n  window.addEventListener('resize', onWindowResize, false);\n}\n\nfunction transform(targets, duration) {\n  TWEEN.removeAll();\n\n  for (var i = 0; i < objects.length; i++) {\n    var object = objects[i];\n    var target = targets[i];\n\n    new TWEEN.Tween(object.position)\n      .to(\n        { x: target.position.x, y: target.position.y, z: target.position.z },\n        Math.random() * duration + duration\n      )\n      .easing(TWEEN.Easing.Exponential.InOut)\n      .start();\n\n    new TWEEN.Tween(object.rotation)\n      .to(\n        { x: target.rotation.x, y: target.rotation.y, z: target.rotation.z },\n        Math.random() * duration + duration\n      )\n      .easing(TWEEN.Easing.Exponential.InOut)\n      .start();\n  }\n\n  new TWEEN.Tween(this)\n    .to({}, duration * 2)\n    .onUpdate(render)\n    .start();\n}\n\nfunction onWindowResize() {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n\n  renderer.setSize(window.innerWidth, window.innerHeight);\n}\n\nexport function animate() {\n  requestAnimationFrame(animate);\n\n  TWEEN.update();\n  controls.update();\n}\n\nexport function render() {\n  renderer.render(scene, camera);\n}\n","import { init, animate } from './render';\ninit();\nanimate();\n"]}